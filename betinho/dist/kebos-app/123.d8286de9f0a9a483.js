"use strict";(self.webpackChunkkebos_app=self.webpackChunkkebos_app||[]).push([[123],{123:(A,u,i)=>{i.r(u),i.d(u,{LoginModule:()=>V});var l=i(5546),p=i(3509),d=i(5812),a=i(3075),t=i(5e3),h=i(4352),f=i(1645),v=i(520);let x=(()=>{class n{constructor(e){this.http=e,this.clientId="860w94wzqfcu8",this.clientSecret="avcykBlly9DIyucV",this.redirectUri="http://localhost:4200",this.responseType="code",this.scope="r_liteprofile r_emailaddress"}getAuthorizationUrl(){const e=Math.random().toString(36).substring(7);return`https://www.linkedin.com/oauth/v2/authorization?response_type=${this.responseType}&client_id=${this.clientId}&redirect_uri=${this.redirectUri}&scope=${this.scope}&state=${e}`}exchangeCodeForToken(e){return this.http.post("https://www.linkedin.com/oauth/v2/accessToken",`grant_type=authorization_code&code=${e}&redirect_uri=${this.redirectUri}&client_id=${this.clientId}&client_secret=${this.clientSecret}`,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275inject(v.eN))},n.\u0275prov=t.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=i(9808),S=i(5270),c=i(1047),C=i(9359),w=i(2683),y=i(5017),b=i(6042),L=i(2643);function z(n,s){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const r=t.\u0275\u0275nextContext(2);return r.passwordVisible=!r.passwordVisible}),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("nzType",e.passwordVisible?"eye-invisible":"eye")}}const g=function(){return["/cadastrar"]};function k(n,s){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"form",2),t.\u0275\u0275listener("ngSubmit",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().login()}),t.\u0275\u0275elementStart(2,"div",3),t.\u0275\u0275element(3,"img",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",5)(5,"div",6)(6,"label",7),t.\u0275\u0275text(7,"Usu\xe1rio"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",9)(10,"label",10),t.\u0275\u0275text(11,"Senha"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"nz-input-group",11),t.\u0275\u0275element(13,"input",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,z,1,1,"ng-template",null,13,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",14)(17,"div",15)(18,"button",16),t.\u0275\u0275text(19,"Entrar"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(20,"div",17)(21,"p",18),t.\u0275\u0275text(22," Acessar com: "),t.\u0275\u0275elementStart(23,"button",19),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().signInWithFB()}),t.\u0275\u0275element(24,"img",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"button",19),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().signInWithFB()}),t.\u0275\u0275element(26,"img",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"button",19),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().signInWithLinkedin()}),t.\u0275\u0275element(28,"img",22),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(29,"div",23)(30,"button",24),t.\u0275\u0275text(31,"Criar Conta"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",25)(33,"button",26),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().isLogin=!1}),t.\u0275\u0275text(34,"Esqueci minha senha"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275reference(15),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",o.loginForm),t.\u0275\u0275advance(11),t.\u0275\u0275property("nzSuffix",e),t.\u0275\u0275advance(1),t.\u0275\u0275property("type",o.passwordVisible?"text":"password"),t.\u0275\u0275advance(17),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(4,g))}}function E(n,s){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"form",28),t.\u0275\u0275listener("ngSubmit",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().forgotPassword()}),t.\u0275\u0275elementStart(2,"div",3),t.\u0275\u0275element(3,"img",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",5)(5,"div",6)(6,"label",29),t.\u0275\u0275text(7,"E-mail"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(8,"input",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",31)(10,"button",32),t.\u0275\u0275text(11,"Recuperar Senha"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",23)(13,"button",24),t.\u0275\u0275text(14,"Criar Conta"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",23)(16,"button",26),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().isLogin=!0}),t.\u0275\u0275text(17,"Acessar com Login"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("formGroup",e.forgotPasswordForm),t.\u0275\u0275advance(12),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(2,g))}}const F=[{path:"",component:(()=>{class n{constructor(e,o,r,m,P,M){this.formBuilder=e,this.authenticationService=o,this.router=r,this.notificationService=m,this.socialAuthService=P,this.linkedinAuthService=M,this.passwordVisible=!1,this.isLogin=!0}ngOnInit(){this.loginForm=this.formBuilder.group({login:["",a.Validators.required],password:["",a.Validators.required]}),this.forgotPasswordForm=this.formBuilder.group({email:["",a.Validators.required]})}login(){this.loginForm.valid&&this.authenticationService.login(this.loginForm.value.login,this.loginForm.value.password).subscribe(e=>this.router.navigate(["/home"]),e=>this.notificationService.error("Ops...","Usu\xe1rio e/ou senha est\xe3o incorretos."))}signInWithFB(){this.socialAuthService.signIn(d.LP.PROVIDER_ID).then(e=>{this.authenticationService.login(null==e?void 0:e.email,null==e?void 0:e.id).subscribe(o=>this.router.navigate(["/home"]),o=>this.notificationService.error("Ops...","Usu\xe1rio e/ou senha est\xe3o incorretos."))})}signInWithLinkedin(){const e=this.linkedinAuthService.getAuthorizationUrl();window.location.href=e}forgotPassword(){this.forgotPasswordForm.valid?this.authenticationService.forgotPassword(this.forgotPasswordForm.controls.email.value).subscribe(e=>{this.isLogin=!0,this.notificationService.success("Sucesso!","Acesse sua caixa de e-mail!")}):this.notificationService.error("Aten\xe7\xe3o!","Insira um e-mail valido!")}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(a.FormBuilder),t.\u0275\u0275directiveInject(h.$),t.\u0275\u0275directiveInject(l.F0),t.\u0275\u0275directiveInject(f.g),t.\u0275\u0275directiveInject(d.e8),t.\u0275\u0275directiveInject(x))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"d-flex","container","w-100","login-container","align-items-center","justify-content-center"],[4,"ngIf"],["id","loginForm",1,"login-form","py-5","px-3","shadow",3,"formGroup","ngSubmit"],[1,"row","d-flex","align-items-center","justify-content-center"],["src","/assets/images/logo.png",1,"login-form-logo"],[1,"row","mt-3","px-3"],[1,"form-group","mb-3"],["for","login"],["nz-input","","formControlName","login","name","login","autocomplete","login"],[1,"form-group"],["for","password"],[3,"nzSuffix"],["nz-input","","formControlName","password","autocomplete","current-password",3,"type"],["suffixTemplate",""],[1,"row","mt-4","px-3"],[1,"d-flex","flex-column"],["nz-button","","nzType","primary","type","submit","form","loginForm","nzSize","default",1,"mb-3"],[1,"row","mt-2"],[1,"social-login","text-center"],["type","button",1,"btn","p-0","m-0",3,"click"],["alt","Login with Facebook","src","/assets/images/redes-sociais/facebook.png",1,"btn-img"],["alt","Login with Instagram","src","/assets/images/redes-sociais/instagram.png",1,"btn-img"],["alt","Login with Linkedin","src","/assets/images/redes-sociais/linkedin.png",1,"btn-img"],[1,"row","link","mt-3"],["nz-button","","nzType","link","type","button","nzSize","default",3,"routerLink"],[1,"row","link"],["nz-button","","nzType","link","type","button","nzSize","default",3,"click"],["nz-icon","",3,"nzType","click"],["id","forgotPasswordForm",1,"login-form","py-5","px-3","shadow",3,"formGroup","ngSubmit"],["for","email"],["nz-input","","formControlName","email","name","email"],[1,"col-12","mt-2"],["nz-button","","nzType","primary","type","submit","form","forgotPasswordForm","nzSize","default","nzBlock","",1,"mb-3"]],template:function(e,o){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,k,35,5,"ng-container",1),t.\u0275\u0275template(2,E,18,3,"ng-container",1),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.isLogin),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.isLogin))},directives:[_.O5,a.\u0275NgNoValidate,a.NgControlStatusGroup,S.Y,a.FormGroupDirective,c.Zp,a.DefaultValueAccessor,a.NgControlStatus,a.FormControlName,C.x,w.w,c.gB,c.ke,y.Ls,b.ix,L.dQ,l.rH],styles:[".login-container[_ngcontent-%COMP%]{height:100vh}.login-form[_ngcontent-%COMP%]{width:400px;border-radius:20px}.login-form-logo[_ngcontent-%COMP%]{width:200px;height:auto;margin:1.2rem auto}.social-login[_ngcontent-%COMP%]   .btn-img[_ngcontent-%COMP%]{width:25px;height:auto;padding:.6rem 0;margin-right:15px}.btn-img[_ngcontent-%COMP%]{width:auto;height:45px;padding:.6rem 0}.social-login[_ngcontent-%COMP%]{font-size:12px}"]}),n})(),canActivate:[p.A],outlet:"login"}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[l.Bz.forChild(F)],l.Bz]}),n})();var T=i(3963);let V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[T.m,I]]}),n})()}}]);