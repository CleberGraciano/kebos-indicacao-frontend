"use strict";(self.webpackChunkkebos_app=self.webpackChunkkebos_app||[]).push([[97],{97:(he,C,r)=>{r.r(C),r.d(C,{RecommendationModule:()=>pe});var P=r(3963),p=r(5546),c=r(3275),x=r(1265),m=r(3075),z=r(1386),e=r(5e3),M=r(6529),g=r(1645),j=r(2817),b=r(4920),B=r(6766),L=r(8447),D=r(4352),S=r(5270),y=r(1047),E=r(9359),R=r(7795),F=r(8054),h=r(9808),I=r(6042),T=r(2643),V=r(2683),d=r(592),k=r(404),$=r(2121),w=r(5017),O=r(685);const A=["formElement"];function Q(o,l){if(1&o&&e.\u0275\u0275element(0,"nz-option",41),2&o){const t=l.$implicit;e.\u0275\u0275property("nzLabel",t.nome)("nzValue",t)}}function G(o,l){if(1&o&&e.\u0275\u0275element(0,"nz-option",41),2&o){const t=l.$implicit;e.\u0275\u0275property("nzLabel",t.nome)("nzValue",t)}}function H(o,l){if(1&o&&e.\u0275\u0275element(0,"nz-option",41),2&o){const t=l.$implicit;e.\u0275\u0275property("nzLabel",t.nome)("nzValue",t)}}function U(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",42)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"div",43),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(a.id)}),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"nz-select",44),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.tipo.name=i})("blur",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(a.id)})("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().resetItensData(a)}),e.\u0275\u0275template(7,G,1,2,"nz-option",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"td")(9,"div",43),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(a.id)}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"nz-select",45),e.\u0275\u0275listener("nzOnSearch",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().searchValue(a)})("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.nome=i})("blur",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(a.id)})("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().typeSelectData(a)}),e.\u0275\u0275template(12,H,1,2,"nz-option",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"td")(14,"div",43),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(a.id)}),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"input",46),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.quantidade=i})("blur",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(a.id)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td",47)(24,"a",48),e.\u0275\u0275listener("nzOnConfirm",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().deleteRow(a.id)}),e.\u0275\u0275element(25,"span",49),e.\u0275\u0275elementEnd()()()}if(2&o){const t=l.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null!=t&&null!=t.tipo&&t.tipo.name?null==t||null==t.tipo||null==t.tipo.name?null:t.tipo.name.nome:null==t||null==t.tipo||null==t.tipo.tipo?null:t.tipo.tipo.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.tipo.name)("hidden",n.editId!==t.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.tipos),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id||!(null!=t&&t.tipo)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.nome?null:t.nome.nome," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("nzShowArrow",!1)("nzFilterOption",n.nzFilterOption)("hidden",n.editId!==t.id)("ngModel",t.nome),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.listItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.quantidade," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",n.editId!==t.id)("ngModel",t.quantidade),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(19,19,null==t||null==t.nome?null:t.nome.bonus,"BRL")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(22,22,null==t?null:t.totalBonus,"BRL"))}}function K(o,l){1&o&&e.\u0275\u0275element(0,"nz-empty",50),2&o&&e.\u0275\u0275property("nzNotFoundContent","Nenhum item cadastrado")}function Z(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",53)(1,"span",54),e.\u0275\u0275text(2,"Total do Pedido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",55)(4,"strong"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"currency"),e.\u0275\u0275elementEnd()()()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("R$ ",e.\u0275\u0275pipeBind2(6,1,t.total,"BRL"),"")}}function Y(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",51),e.\u0275\u0275template(1,Z,7,4,"div",52),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.listOfData.length)}}function J(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",56),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().cancel()}),e.\u0275\u0275text(1,"Cancelar"),e.\u0275\u0275elementEnd()}}function W(o,l){1&o&&(e.\u0275\u0275elementStart(0,"button",57),e.\u0275\u0275text(1,"Voltar"),e.\u0275\u0275elementEnd())}function X(o,l){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().saveRecommendation()}),e.\u0275\u0275text(1,"Confirmar"),e.\u0275\u0275elementEnd()}}let N=(()=>{class o{constructor(t,n,i,a,s,f,v,ue,fe,ve){this.formBuilder=t,this.formService=n,this.route=i,this.router=a,this.notificationService=s,this.sellerService=f,this.service=v,this.serviceItem=ue,this.categoryService=fe,this.authenticationService=ve,this.routePrevious="Recommendation",this.routeAction=c.c,this.maskTEL={mask:z.K.telefone,guide:!1},this.maskCpfCnpj={mask:z.K.cpfCnpj,guide:!1},this.i=1,this.editId=null,this.listOfData=[],this.tipos=[],this.items=[],this.selectedValue=null,this.listItems=[],this.listSellers=[],this.typeSelect=0,this.nzFilterOption=()=>!0,this.total=0}ngOnInit(){this.route.data.subscribe(t=>this.action=t.acao),this.route.params.subscribe(t=>this.param=t.params),this.create=this.action==c.c.Insert,this.edit=this.action==c.c.Edit,this.view=this.action==c.c.View,this.formRecommendation=this.formBuilder.group({nomePessoaEmpresa:["",m.Validators.required],cpfCnpj:["",m.Validators.required],emailprivate:["",m.Validators.required],nomeContato:["",m.Validators.required],telefone:["",m.Validators.required],seller:["",m.Validators.required]}),this.formObservacoes=this.formBuilder.group({observacao:[""]}),this.categoryService.filter().subscribe(t=>this.tipos=t),this.sellerService.filter().subscribe(t=>this.listSellers=t),this.edit&&(this.param?this.service.getIdRecommendation(this.param).subscribe(t=>this.formRecommendation.patchValue(t)):this.returnPage())}saveRecommendation(){const t=this.formService.getValidationsMessages(this.formRecommendation,this.formElement);if(t.length)this.notificationService.warn("Os seguintes campos abaixo devem ser preenchidos corretamente:",this.formService.createValidationList(t));else if(this.formRecommendation.valid){let n=Object.assign(Object.assign({},this.formRecommendation.getRawValue()),this.formObservacoes.getRawValue());switch(n.items=this.replaceItems(),n.valortotal=this.total,n.user=null,this.action){case c.c.Insert:this.service.insertRecommendation(n).subscribe(i=>{this.notificationService.success("Cadastro realizado com sucesso!!!",""),this.returnPage()});break;case c.c.Edit:this.service.editRecommendation(this.param,n).subscribe(i=>{this.notificationService.success("Vendedor editado com sucesso!!!",""),this.returnPage()})}}}cancel(){this.formRecommendation.reset(),this.returnPage()}returnPage(){this.router.navigate([`/${this.routePrevious}`],{queryParams:{param:!0}})}typeSelectData(t){var n,i;this.typeSelect=null===(i=null===(n=null==t?void 0:t.tipo)||void 0===n?void 0:n.name)||void 0===i?void 0:i.id,this.search(null,this.typeSelect)}resetItensData(t){return t.id=t.id,t.nome=null,t.totalBonus=0,t}startEdit(t){this.editId=t}stopEdit(t){this.editId=null,this.editBonus(t)}addRow(){this.listOfData=[...this.listOfData,{id:`${this.i}`,nome:{nome:"Pesquise o produto"},tipo:{tipo:{name:"Selecione o Tipo"}},quantidade:0,bonus:0,totalBonus:0}],this.i++}editBonus(t){this.listOfData.find(n=>{n.id==t&&(n.totalBonus=n.nome.bonus*n.quantidade)}),this.total=this.listOfData.reduce((n,i)=>n+i.totalBonus,0)}deleteRow(t){this.listOfData=this.listOfData.filter(n=>n.id!==t)}searchValue(t){this.search(t,this.typeSelect)}search(t,n){var i,a;this.serviceItem.getItems(null===(a=null===(i=null==t?void 0:t.tipo)||void 0===i?void 0:i.name)||void 0===a?void 0:a.id).subscribe(s=>{const f=[];s.filter(v=>v.category.id==n).forEach(v=>f.push(v)),this.listItems=f})}replaceItems(){let t=[];return this.listOfData.forEach(n=>{let i;i=n.nome,n.totalBonus&&(i.totalBonus=n.totalBonus),t.push(i)}),t=t.filter(n=>n.totalBonus),t}get usuarioLogado(){return this.authenticationService.currentUserValue}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(m.FormBuilder),e.\u0275\u0275directiveInject(M.o),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(g.g),e.\u0275\u0275directiveInject(j.n),e.\u0275\u0275directiveInject(b.Q),e.\u0275\u0275directiveInject(B.e),e.\u0275\u0275directiveInject(L.H),e.\u0275\u0275directiveInject(D.$))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-recommendation-form"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(A,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.formElement=i.first)}},decls:76,vars:13,consts:[[1,"row"],[1,"col-12","mb-4"],[1,"text-capitalize"],[1,"col-12","mb-3"],["id","formRecommendation","name","formRecommendation",3,"formGroup"],["formElement",""],[1,"row","row-cols-sm-2"],[1,"col","mb-3"],["for","nomePessoaEmpresa",1,"form-label"],["nz-input","","formControlName","nomePessoaEmpresa","type","text"],["for","cpfCnpj",1,"form-label"],["nz-input","","formControlName","cpfCnpj","type","text",3,"textMask"],["for","emailprivate",1,"form-label"],["nz-input","","formControlName","emailprivate","type","text"],["for","nomeContato",1,"form-label"],["nz-input","","formControlName","nomeContato","type","text"],["for","telefone",1,"form-label"],["nz-input","","formControlName","telefone","type","text",3,"textMask"],["for","seller",1,"form-label","col-12"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Selecione o vendedor",1,"nz-select-custom"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"col-12","d-flex","align-items-end","justify-content-between","mb-2"],["nz-button","","nzType","primary","type","button","nzSize","default",1,"capitalize","btn-kebos","rounded-pill",3,"click"],["nzBordered","","nzFrontPagination","false",3,"nzData","nzFooter","nzNoResult"],["editRowTable",""],["width","20%"],["width","35%"],["width","11%"],["width","12%"],["width","10%",1,"text-center"],["class","editable-row",4,"ngFor","ngForOf"],["empty",""],["footerTabela",""],["id","formObservacoes","name","formObservacoes",3,"formGroup"],[1,"row","row-cols-1"],["for","observacao",1,"form-label"],["rows","4","nz-input","","formControlName","observacao"],[1,"col-12","d-flex","justify-content-end","mt-3"],["class","capitalize me-2 btn-kebos-line rounded-pill","nz-button","","nzType","default","type","button","nzSize","default",3,"click",4,"ngIf"],["class","capitalize me-2 btn-kebos-line rounded-pill","nz-button","","nzType","default","type","button","nzSize","default",4,"ngIf"],["class","capitalize btn-kebos rounded-pill","nz-button","","nzType","primary","type","button","nzSize","default",3,"click",4,"ngIf"],[3,"nzLabel","nzValue"],[1,"editable-row"],[1,"editable-cell",3,"hidden","click"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Selecione o tipo",3,"ngModel","hidden","ngModelChange","blur","click"],["nzShowSearch","","nzServerSearch","","nzPlaceHolder","Pesquise aqui",3,"nzShowArrow","nzFilterOption","hidden","ngModel","nzOnSearch","ngModelChange","blur","click"],["type","number","nz-input","","min","0",3,"hidden","ngModel","ngModelChange","blur"],[1,"text-center"],["nz-button","","nzType","text","nzDanger","","nz-tooltip","","nzTooltipTitle","Remover","nz-popconfirm","","nzPopconfirmTitle","Deseja Remover?",1,"pointer","px-2","fs-6",3,"nzOnConfirm"],["nz-icon","","nzType","delete","nzTheme","outline"],[3,"nzNotFoundContent"],[1,"d-flex","justify-content-end","align-items-center"],["class","me-4 d-flex",4,"ngIf"],[1,"me-4","d-flex"],[1,"azul-primario"],[2,"font-size","16px","margin-top","-3px","padding-left","8px"],["nz-button","","nzType","default","type","button","nzSize","default",1,"capitalize","me-2","btn-kebos-line","rounded-pill",3,"click"],["nz-button","","nzType","default","type","button","nzSize","default",1,"capitalize","me-2","btn-kebos-line","rounded-pill"]],template:function(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1)(2,"span",2),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(4,"div",0)(5,"div",3)(6,"form",4,5)(8,"div",6)(9,"div",7)(10,"label",8),e.\u0275\u0275text(11,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7)(14,"label",10),e.\u0275\u0275text(15,"CPF / CNPJ"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",7)(18,"label",12),e.\u0275\u0275text(19,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",7)(22,"label",14),e.\u0275\u0275text(23,"Nome do Contato"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",7)(26,"label",16),e.\u0275\u0275text(27,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",7)(30,"label",18),e.\u0275\u0275text(31,"Vendedor Kebos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"nz-select",19),e.\u0275\u0275template(33,Q,1,2,"nz-option",20),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(34,"div",3)(35,"div",21)(36,"h6"),e.\u0275\u0275text(37,"Itens"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"button",22),e.\u0275\u0275listener("click",function(){return n.addRow()}),e.\u0275\u0275text(39,"Adicionar Items"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"nz-table",23,24)(42,"thead")(43,"tr")(44,"th"),e.\u0275\u0275text(45,"Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",25),e.\u0275\u0275text(47,"Categoria"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th",26),e.\u0275\u0275text(49,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th",27),e.\u0275\u0275text(51,"Quantidade"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th",28),e.\u0275\u0275text(53,"Valor B\xf4nus"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"th",28),e.\u0275\u0275text(55,"Total B\xf4nus"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"th",29),e.\u0275\u0275text(57,"A\xe7\xe3o"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(58,"tbody"),e.\u0275\u0275template(59,U,26,25,"tr",30),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(60,K,1,1,"ng-template",null,31,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(62,Y,2,1,"ng-template",null,32,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",3)(65,"form",33,5)(67,"div",34)(68,"div",7)(69,"label",35),e.\u0275\u0275text(70,"Observa\xe7\xf5es"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(71,"textarea",36),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(72,"div",37),e.\u0275\u0275template(73,J,2,0,"button",38),e.\u0275\u0275template(74,W,2,0,"button",39),e.\u0275\u0275template(75,X,2,0,"button",40),e.\u0275\u0275elementEnd()()),2&t){const i=e.\u0275\u0275reference(41),a=e.\u0275\u0275reference(61),s=e.\u0275\u0275reference(63);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.action==n.routeAction.Insert?"Cadastrar":n.action," Indica\xe7\xf5es "),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.formRecommendation),e.\u0275\u0275advance(10),e.\u0275\u0275property("textMask",n.maskCpfCnpj),e.\u0275\u0275advance(12),e.\u0275\u0275property("textMask",n.maskTEL),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",n.listSellers),e.\u0275\u0275advance(7),e.\u0275\u0275property("nzData",n.listOfData)("nzFooter",s)("nzNoResult",a),e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",i.data),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.formObservacoes),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",n.action!=n.routeAction.View),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.action==n.routeAction.View),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.action!=n.routeAction.View)}},directives:[m.\u0275NgNoValidate,m.NgControlStatusGroup,S.Y,m.FormGroupDirective,y.Zp,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlName,E.x,R.hd,F.Vq,h.sg,F.Ip,I.ix,T.dQ,V.w,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,m.NgModel,m.MinValidator,m.NumberValueAccessor,k.SY,$.JW,w.Ls,O.p9,h.O5],pipes:[h.H9],styles:[""]}),o})();var q=r(4865),ee=r(1686);const te=["tabela"];function ne(o,l){1&o&&e.\u0275\u0275element(0,"div")}function oe(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"brDate"),e.\u0275\u0275elementEnd()()),2&o){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.nomePessoaEmpresa),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.email),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,5,t.telefone)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,7,t.createdDate))}}function ie(o,l){1&o&&e.\u0275\u0275element(0,"nz-empty",27),2&o&&e.\u0275\u0275property("nzNotFoundContent","Nenhum registro encontrado")}function re(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",30)(1,"span",31)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.total)}}function ae(o,l){if(1&o&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275template(1,re,4,1,"div",29),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSet.length)}}const le=function(){return["/recommendation/insert"]},me=function(){return{y:"500px",x:"max-content"}};let se=(()=>{class o{constructor(t,n,i,a,s){this.formBuilder=t,this.route=n,this.router=i,this.notificationService=a,this.service=s,this.dataSet=[],this.loadingTabela=!1,this.activeTable=!1,this.total=0,this.actions=[],this.routePrevious="recommendation",this.dateFormat="dd/MM/yyyy",this.maskTEL={mask:z.K.telefone,guide:!1},this.route.queryParams.subscribe(f=>f&&this.buscarDados())}ngOnInit(){this.formFiltroRecommendation=this.formBuilder.group({nomePessoaEmpresa:[""],emailprivate:[""],telefone:[""]}),this.search()}buscarDados(){this.loadingTabela=!0,this.service.filter().subscribe({next:t=>{var n,i;t&&(this.dataSet=t,null===(i=null===(n=this.nzTableComponent)||void 0===n?void 0:n.cdkVirtualScrollViewport)||void 0===i||i.checkViewportSize(),this.total=this.dataSet.length)},complete:()=>this.loadingTabela=!1,error:()=>this.loadingTabela=!1})}clear(){this.formFiltroRecommendation.reset()}search(){var t,n;null===(n=null===(t=this.nzTableComponent)||void 0===t?void 0:t.cdkVirtualScrollViewport)||void 0===n||n.scrollToIndex(0),this.filtro=this.formFiltroRecommendation.value,this.buscarDados()}cancel(){this.router.navigate(["/home"])}remove(t){}edit(t){this.dataSet=[],this.router.navigate([`/${this.routePrevious}/edit/${t.id}`])}trackByIndex(t,n){return n.id}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(m.FormBuilder),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(g.g),e.\u0275\u0275directiveInject(b.Q))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-recommendation-list"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(te,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.nzTableComponent=i.first)}},decls:54,vars:18,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","d-flex","justify-content-between","mb-3"],[1,"mb-3","title"],["nz-button","","nzType","primary","type","submit","form","formFiltro","nzSize","default",1,"ms-2","rounded-pill","btn-text",3,"routerLink"],["nz-icon","","nzType","plus-circle"],["id","formFiltroRecommendation",3,"formGroup","ngSubmit"],[1,"row","row-cols-sm-3"],[1,"col","mb-3"],["for","nomePessoaEmpresa",1,"form-label"],["nz-input","","formControlName","nomePessoaEmpresa","type","text"],["for","emailprivate",1,"form-label"],["nz-input","","formControlName","emailprivate","type","text"],["for","telefone",1,"form-label"],["nz-input","","formControlName","telefone","type","text",3,"textMask"],[1,"d-flex","justify-content-end","mt-2","mb-3"],["nz-button","","nzType","default","nzSize","default","type","button",1,"me-2","rounded-pill",3,"click"],["nz-button","","nzType","primary","type","submit","form","formFiltroRecommendation","nzSize","default",1,"ms-2","rounded-pill"],[1,"col-12"],[1,"my-3"],["id","id-table-sistema",1,"col-md-12"],[1,"padrao",3,"nzData","nzNoResult","nzShowPagination","nzVirtualItemSize","nzVirtualForTrackBy","nzFrontPagination","nzScroll","nzLoading","nzFooter"],["tabela",""],["scope","col"],["nz-virtual-scroll",""],["empty",""],["footerTabela",""],[3,"nzNotFoundContent"],[1,"d-flex","justify-content-end","align-items-center"],["class","me-4",4,"ngIf"],[1,"me-4"],[1,"azul-primario"]],template:function(t,n){if(1&t&&(e.\u0275\u0275template(0,ne,1,0,"div",0),e.\u0275\u0275elementStart(1,"div")(2,"div",1)(3,"div",2)(4,"h4",3),e.\u0275\u0275text(5,"Lista de Indica\xe7\xf5es"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275element(7,"span",5),e.\u0275\u0275text(8," Cadastrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"form",6),e.\u0275\u0275listener("ngSubmit",function(){return n.search()}),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8)(12,"label",9),e.\u0275\u0275text(13,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",8)(16,"label",11),e.\u0275\u0275text(17,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",8)(20,"label",13),e.\u0275\u0275text(21,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",15)(24,"button",16),e.\u0275\u0275listener("click",function(){return n.clear()}),e.\u0275\u0275text(25,"Limpar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",17),e.\u0275\u0275text(27,"Pesquisar"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",18)(29,"h6",19),e.\u0275\u0275text(30,"Resultado da Consulta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",20)(32,"nz-table",21,22)(34,"thead")(35,"tr")(36,"th",23),e.\u0275\u0275text(37,"C\xf3digo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th",23),e.\u0275\u0275text(39,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th",23),e.\u0275\u0275text(41,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th",23),e.\u0275\u0275text(43,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th",23),e.\u0275\u0275text(45,"Data de Cadastro"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(46,"tbody"),e.\u0275\u0275template(47,oe,13,9,"ng-template",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(48,ie,1,1,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(50,ae,2,1,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(52,"div"),e.\u0275\u0275element(53,"router-outlet"),e.\u0275\u0275elementEnd()),2&t){const i=e.\u0275\u0275reference(49),a=e.\u0275\u0275reference(51);e.\u0275\u0275property("ngIf",0===n.route.children.length),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",0!==(null==n.route.children?null:n.route.children.length)),e.\u0275\u0275advance(5),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(16,le)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.formFiltroRecommendation),e.\u0275\u0275advance(13),e.\u0275\u0275property("textMask",n.maskTEL),e.\u0275\u0275advance(10),e.\u0275\u0275property("nzData",n.dataSet)("nzNoResult",i)("nzShowPagination",!1)("nzVirtualItemSize",54)("nzVirtualForTrackBy",n.trackByIndex)("nzFrontPagination",!1)("nzShowPagination",!1)("nzScroll",e.\u0275\u0275pureFunction0(17,me))("nzLoading",n.loadingTabela)("nzFooter",a)}},directives:[h.O5,I.ix,T.dQ,V.w,p.rH,w.Ls,m.\u0275NgNoValidate,m.NgControlStatusGroup,S.Y,m.FormGroupDirective,y.Zp,m.DefaultValueAccessor,m.NgControlStatus,m.FormControlName,E.x,R.hd,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,d.zu,O.p9,p.lC],pipes:[q.X,ee.F],styles:[""]}),o})();var _=r(1235),u=r(2747);const de=[{path:"",component:se,canActivate:[x.P],data:{breadcrumb:"Lista",acao:c.c.Insert,permissions:{only:[u.$.Adm,u.$.User,u.$.Moderador],redirectTo:"/"}},children:[{path:"insert",component:N,canActivate:[x.P,_.DD],data:{breadcrumb:"Cadastrar",acao:c.c.Insert,permissions:{only:[u.$.Adm,u.$.User],redirectTo:"/"}}},{path:"edit/:param",component:N,canActivate:[x.P,_.DD],data:{breadcrumb:"Editar",acao:c.c.Edit,permissions:{only:[u.$.Adm,u.$.User],redirectTo:"/"}}}]}];let ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(de)],p.Bz]}),o})(),pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[P.m,ce,_.VI.forChild()]]}),o})()}}]);