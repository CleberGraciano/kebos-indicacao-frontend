"use strict";(self.webpackChunkkebos_app=self.webpackChunkkebos_app||[]).push([[533],{6533:(le,v,l)=>{l.r(v),l.d(v,{RecommendationModule:()=>oe});var w=l(363),c=l(7152),p=l(3275),s=l(3075),h=l(1386),e=l(5e3),k=l(6529),_=l(1645),N=l(5384);let x=(()=>{class o{constructor(t){this.apiService=t}filter(){return this.apiService.get("recommendations")}insertRecommendation(t){return this.apiService.post("recommendations",t)}editRecommendation(t,n){return this.apiService.put((o=>`recommendations/${o}`)(t),n)}getIdRecommendation(t){return this.apiService.get((o=>`recommendations/${o}`)(t))}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(N.s))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var O=l(6766),L=l(4352),z=l(5270),C=l(1047),g=l(9359),b=l(7795),S=l(6042),y=l(2643),E=l(2683),d=l(592),f=l(9808),R=l(8054),T=l(404),M=l(2121),F=l(5017),I=l(685);const j=["formElement"];function B(o,a){if(1&o&&e.\u0275\u0275element(0,"nz-option",47),2&o){const t=a.$implicit;e.\u0275\u0275property("nzLabel",t.name)("nzValue",t)}}function P(o,a){if(1&o&&e.\u0275\u0275element(0,"nz-option",47),2&o){const t=a.$implicit;e.\u0275\u0275property("nzLabel",t.nome)("nzValue",t)}}function D(o,a){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",38)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"div",39),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(r.id)}),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"nz-select",40),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.tipo.name=i})("blur",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(r.id)})("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().resetItensData(r)}),e.\u0275\u0275template(7,B,1,2,"nz-option",41),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"td")(9,"div",39),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(r.id)}),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"nz-select",42),e.\u0275\u0275listener("nzOnSearch",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().searchValue(i)})("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.nome=i})("blur",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(r.id)})("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().typeSelectData(r)}),e.\u0275\u0275template(12,P,1,2,"nz-option",41),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"td")(14,"div",39),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().startEdit(r.id)}),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"input",43),e.\u0275\u0275listener("ngModelChange",function(i){return e.\u0275\u0275restoreView(t).$implicit.quantidade=i})("blur",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().stopEdit(r.id)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"td"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"currency"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"td",44)(24,"a",45),e.\u0275\u0275listener("nzOnConfirm",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().deleteRow(r.id)}),e.\u0275\u0275element(25,"span",46),e.\u0275\u0275elementEnd()()()}if(2&o){const t=a.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null!=t&&null!=t.tipo&&t.tipo.name?null==t||null==t.tipo||null==t.tipo.name?null:t.tipo.name.name:null==t||null==t.tipo||null==t.tipo.tipo?null:t.tipo.tipo.name," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.tipo.name)("hidden",n.editId!==t.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.tipos),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id||!(null!=t&&t.tipo)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",null==t||null==t.nome?null:t.nome.nome," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("nzShowArrow",!1)("nzFilterOption",n.nzFilterOption)("hidden",n.editId!==t.id)("ngModel",t.nome),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.listItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.editId===t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.quantidade," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",n.editId!==t.id)("ngModel",t.quantidade),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(19,19,null==t||null==t.nome?null:t.nome.bonus,"BRL")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(22,22,null==t?null:t.totalBonus,"BRL"))}}function $(o,a){1&o&&e.\u0275\u0275element(0,"nz-empty",48),2&o&&e.\u0275\u0275property("nzNotFoundContent","Nenhum item cadastrado")}function A(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",51)(1,"span",52),e.\u0275\u0275text(2,"Total do Pedido"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",53)(4,"strong"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"currency"),e.\u0275\u0275elementEnd()()()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("R$ ",e.\u0275\u0275pipeBind2(6,1,t.total,"BRL"),"")}}function Q(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",49),e.\u0275\u0275template(1,A,7,4,"div",50),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.listOfData.length)}}function G(o,a){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",54),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().cancel()}),e.\u0275\u0275text(1,"Cancelar"),e.\u0275\u0275elementEnd()}}function H(o,a){1&o&&(e.\u0275\u0275elementStart(0,"button",55),e.\u0275\u0275text(1,"Voltar"),e.\u0275\u0275elementEnd())}function Y(o,a){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().saveRecommendation()}),e.\u0275\u0275text(1,"Confirmar"),e.\u0275\u0275elementEnd()}}let V=(()=>{class o{constructor(t,n,i,r,m,ie,re,ae){this.formBuilder=t,this.formService=n,this.route=i,this.router=r,this.notificationService=m,this.service=ie,this.serviceItem=re,this.authenticationService=ae,this.routePrevious="Recommendation",this.routeAction=p.c,this.maskTEL={mask:h.K.telefone,guide:!1},this.maskCpfCnpj={mask:h.K.cpfCnpj,guide:!1},this.i=1,this.editId=null,this.listOfData=[],this.tipos=[],this.items=[],this.selectedValue=null,this.listItems=[],this.typeSelect=0,this.nzFilterOption=()=>!0,this.total=0}ngOnInit(){this.route.data.subscribe(t=>this.action=t.acao),this.route.params.subscribe(t=>this.param=t.params),this.create=this.action==p.c.Insert,this.edit=this.action==p.c.Edit,this.view=this.action==p.c.View,this.formRecommendation=this.formBuilder.group({nomePessoaEmpresa:["",s.Validators.required],cpfCnpj:["",s.Validators.required],emailprivate:["",s.Validators.required],nomeContato:["",s.Validators.required],telefone:["",s.Validators.required]}),this.formObservacoes=this.formBuilder.group({observacao:[""]}),this.serviceItem.getTipos().subscribe(t=>this.tipos=t),this.edit&&(this.param?this.service.getIdRecommendation(this.param).subscribe(t=>this.formRecommendation.patchValue(t)):this.returnPage())}saveRecommendation(){const t=this.formService.getValidationsMessages(this.formRecommendation,this.formElement);if(t.length)this.notificationService.warn("Os seguintes campos abaixo devem ser preenchidos corretamente:",this.formService.createValidationList(t));else if(this.formRecommendation.valid){let n=Object.assign(Object.assign({},this.formRecommendation.getRawValue()),this.formObservacoes.getRawValue());switch(n.items=this.replaceItems(),n.valortotal=this.total,n.user=null,console.log(n),this.action){case p.c.Insert:this.service.insertRecommendation(n).subscribe(i=>{this.notificationService.success("Cadastro realizado com sucesso!!!",""),this.returnPage()});break;case p.c.Edit:this.service.editRecommendation(this.param,n).subscribe(i=>{this.notificationService.success("Vendedor editado com sucesso!!!",""),this.returnPage()})}}}cancel(){this.formRecommendation.reset(),this.returnPage()}returnPage(){this.router.navigate([`/${this.routePrevious}`])}typeSelectData(t){this.typeSelect=t.tipo.name.id,this.search(null,this.typeSelect)}resetItensData(t){return t.id=t.id,t.nome=null,t.totalBonus=0,t}startEdit(t){this.editId=t}stopEdit(t){this.editId=null,this.editBonus(t)}addRow(){this.listOfData=[...this.listOfData,{id:`${this.i}`,nome:{nome:"Pesquise o produto"},tipo:{tipo:{name:"Selecione o Tipo"}},quantidade:0,bonus:0,totalBonus:0}],this.i++}editBonus(t){this.listOfData.find(n=>{n.id==t&&(n.totalBonus=n.nome.bonus*n.quantidade)}),this.total=this.listOfData.reduce((n,i)=>n+i.totalBonus,0)}deleteRow(t){this.listOfData=this.listOfData.filter(n=>n.id!==t)}searchValue(t){this.search(t,this.typeSelect)}search(t,n){this.serviceItem.getItems(t).subscribe(i=>{const r=[];i.filter(m=>m.tipo==n).forEach(m=>r.push(m)),this.listItems=r})}replaceItems(){let t=[];return this.listOfData.forEach(n=>{let i;i=n.nome,n.totalBonus&&(i.totalBonus=n.totalBonus),t.push(i)}),t=t.filter(n=>n.totalBonus),t}get usuarioLogado(){return this.authenticationService.currentUserValue}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(k.o),e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(_.g),e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(O.e),e.\u0275\u0275directiveInject(L.$))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-recommendation-form"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(j,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.formElement=i.first)}},decls:71,vars:12,consts:[[1,"row"],[1,"col-12","mb-4"],[1,"text-capitalize"],[1,"col-12","mb-3"],["id","formRecommendation","name","formRecommendation",3,"formGroup"],["formElement",""],[1,"row","row-cols-sm-2"],[1,"col","mb-3"],["for","nomePessoaEmpresa",1,"form-label"],["nz-input","","formControlName","nomePessoaEmpresa","type","text"],["for","cpfCnpj",1,"form-label"],["nz-input","","formControlName","cpfCnpj","type","text",3,"textMask"],["for","emailprivate",1,"form-label"],["nz-input","","formControlName","emailprivate","type","text"],["for","nomeContato",1,"form-label"],["nz-input","","formControlName","nomeContato","type","text"],["for","telefone",1,"form-label"],["nz-input","","formControlName","telefone","type","text",3,"textMask"],[1,"col-12","d-flex","align-items-end","justify-content-between","mb-2"],["nz-button","","nzType","primary","type","button","nzSize","default",1,"capitalize","btn-kebos","rounded-pill",3,"click"],["nzBordered","","nzFrontPagination","false",3,"nzData","nzFooter","nzNoResult"],["editRowTable",""],["width","20%"],["width","35%"],["width","11%"],["width","12%"],["width","10%",1,"text-center"],["class","editable-row",4,"ngFor","ngForOf"],["empty",""],["footerTabela",""],["id","formObservacoes","name","formObservacoes",3,"formGroup"],[1,"row","row-cols-1"],["for","observacao",1,"form-label"],["rows","4","nz-input","","formControlName","observacao"],[1,"col-12","d-flex","justify-content-end","mt-3"],["class","capitalize me-2 btn-kebos-line rounded-pill","nz-button","","nzType","default","type","button","nzSize","default",3,"click",4,"ngIf"],["class","capitalize me-2 btn-kebos-line rounded-pill","nz-button","","nzType","default","type","button","nzSize","default",4,"ngIf"],["class","capitalize btn-kebos rounded-pill","nz-button","","nzType","primary","type","button","nzSize","default",3,"click",4,"ngIf"],[1,"editable-row"],[1,"editable-cell",3,"hidden","click"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Selecione o tipo",3,"ngModel","hidden","ngModelChange","blur","click"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzServerSearch","","nzPlaceHolder","Pesquise aqui",3,"nzShowArrow","nzFilterOption","hidden","ngModel","nzOnSearch","ngModelChange","blur","click"],["type","number","nz-input","","min","0",3,"hidden","ngModel","ngModelChange","blur"],[1,"text-center"],["nz-button","","nzType","text","nzDanger","","nz-tooltip","","nzTooltipTitle","Remover","nz-popconfirm","","nzPopconfirmTitle","Deseja Remover?",1,"pointer","px-2","fs-6",3,"nzOnConfirm"],["nz-icon","","nzType","delete","nzTheme","outline"],[3,"nzLabel","nzValue"],[3,"nzNotFoundContent"],[1,"d-flex","justify-content-end","align-items-center"],["class","me-4 d-flex",4,"ngIf"],[1,"me-4","d-flex"],[1,"azul-primario"],[2,"font-size","16px","margin-top","-3px","padding-left","8px"],["nz-button","","nzType","default","type","button","nzSize","default",1,"capitalize","me-2","btn-kebos-line","rounded-pill",3,"click"],["nz-button","","nzType","default","type","button","nzSize","default",1,"capitalize","me-2","btn-kebos-line","rounded-pill"]],template:function(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1)(2,"span",2),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(4,"div",0)(5,"div",3)(6,"form",4,5)(8,"div",6)(9,"div",7)(10,"label",8),e.\u0275\u0275text(11,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"input",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",7)(14,"label",10),e.\u0275\u0275text(15,"CPF / CNPJ"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",7)(18,"label",12),e.\u0275\u0275text(19,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(20,"input",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",7)(22,"label",14),e.\u0275\u0275text(23,"Nome do Contato"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",7)(26,"label",16),e.\u0275\u0275text(27,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(28,"input",17),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(29,"div",3)(30,"div",18)(31,"h6"),e.\u0275\u0275text(32,"Itens"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"button",19),e.\u0275\u0275listener("click",function(){return n.addRow()}),e.\u0275\u0275text(34,"Adicionar Items"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"nz-table",20,21)(37,"thead")(38,"tr")(39,"th"),e.\u0275\u0275text(40,"Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"th",22),e.\u0275\u0275text(42,"Tipo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"th",23),e.\u0275\u0275text(44,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"th",24),e.\u0275\u0275text(46,"Quantidade"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"th",25),e.\u0275\u0275text(48,"Valor B\xf4nus"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"th",25),e.\u0275\u0275text(50,"Total B\xf4nus"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"th",26),e.\u0275\u0275text(52,"A\xe7\xe3o"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(53,"tbody"),e.\u0275\u0275template(54,D,26,25,"tr",27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(55,$,1,1,"ng-template",null,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(57,Q,2,1,"ng-template",null,29,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"div",3)(60,"form",30,5)(62,"div",31)(63,"div",7)(64,"label",32),e.\u0275\u0275text(65,"Observa\xe7\xf5es"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(66,"textarea",33),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(67,"div",34),e.\u0275\u0275template(68,G,2,0,"button",35),e.\u0275\u0275template(69,H,2,0,"button",36),e.\u0275\u0275template(70,Y,2,0,"button",37),e.\u0275\u0275elementEnd()()),2&t){const i=e.\u0275\u0275reference(36),r=e.\u0275\u0275reference(56),m=e.\u0275\u0275reference(58);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.action==n.routeAction.Insert?"Cadastrar":n.action," Indica\xe7\xf5es "),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.formRecommendation),e.\u0275\u0275advance(10),e.\u0275\u0275property("textMask",n.maskCpfCnpj),e.\u0275\u0275advance(12),e.\u0275\u0275property("textMask",n.maskTEL),e.\u0275\u0275advance(7),e.\u0275\u0275property("nzData",n.listOfData)("nzFooter",m)("nzNoResult",r),e.\u0275\u0275advance(19),e.\u0275\u0275property("ngForOf",i.data),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",n.formObservacoes),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",n.action!=n.routeAction.View),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.action==n.routeAction.View),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.action!=n.routeAction.View)}},directives:[s.\u0275NgNoValidate,s.NgControlStatusGroup,z.Y,s.FormGroupDirective,C.Zp,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,g.x,b.hd,S.ix,y.dQ,E.w,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,f.sg,R.Vq,s.NgModel,R.Ip,s.MinValidator,s.NumberValueAccessor,T.SY,M.JW,F.Ls,I.p9,f.O5],pipes:[f.H9],styles:[""]}),o})();const Z=["tabela"];function K(o,a){1&o&&e.\u0275\u0275element(0,"div")}function U(o,a){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td",30)(12,"a",31),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().edit(r)}),e.\u0275\u0275element(13,"span",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"a",33),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().remove(r)}),e.\u0275\u0275element(15,"span",34),e.\u0275\u0275elementEnd()()()}if(2&o){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.nome),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.email),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.telefone),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.created)}}function J(o,a){1&o&&e.\u0275\u0275element(0,"nz-empty",35),2&o&&e.\u0275\u0275property("nzNotFoundContent","Nenhum registro encontrado")}function W(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",38)(1,"span",39)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()()),2&o){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.total)}}function X(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275template(1,W,4,1,"div",37),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.dataSet.length)}}const q=function(){return["/recommendation/insert"]},ee=function(){return{y:"500px",x:"max-content"}},te=[{path:"",component:(()=>{class o{constructor(t,n,i,r,m){this.formBuilder=t,this.route=n,this.router=i,this.notificationService=r,this.service=m,this.dataSet=[],this.loadingTabela=!1,this.activeTable=!1,this.total=0,this.actions=[],this.routePrevious="recommendation",this.dateFormat="dd/MM/yyyy",this.maskTEL={mask:h.K.telefone,guide:!1}}ngOnInit(){this.formFiltroRecommendation=this.formBuilder.group({nomePessoaEmpresa:[""],emailprivate:[""],nomeContato:[""],telefone:[""]}),this.search()}buscarDados(){this.loadingTabela=!0,this.service.filter().subscribe({next:t=>{var n,i;t&&(this.dataSet=t,null===(i=null===(n=this.nzTableComponent)||void 0===n?void 0:n.cdkVirtualScrollViewport)||void 0===i||i.checkViewportSize(),this.total=this.dataSet.length)},complete:()=>this.loadingTabela=!1,error:()=>this.loadingTabela=!1})}clear(){this.formFiltroRecommendation.reset()}search(){var t,n;null===(n=null===(t=this.nzTableComponent)||void 0===t?void 0:t.cdkVirtualScrollViewport)||void 0===n||n.scrollToIndex(0),this.filtro=this.formFiltroRecommendation.value,this.buscarDados()}cancel(){this.router.navigate(["/home"])}remove(t){}edit(t){this.dataSet=[],this.router.navigate([`/${this.routePrevious}/edit/${t.id}`])}trackByIndex(t,n){return n.id}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(c.gz),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(_.g),e.\u0275\u0275directiveInject(x))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-recommendation-list"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(Z,5),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.nzTableComponent=i.first)}},decls:60,vars:18,consts:[[4,"ngIf"],[1,"row"],[1,"col-12","d-flex","justify-content-between","mb-3"],[1,"mb-3","title"],["nz-button","","nzType","primary","type","submit","form","formFiltro","nzSize","default",1,"ms-2","rounded-pill","btn-text",3,"routerLink"],["nz-icon","","nzType","plus-circle"],["id","formFiltroRecommendation",3,"formGroup","ngSubmit"],[1,"row","row-cols-sm-4"],[1,"col","mb-3"],["for","nomePessoaEmpresa",1,"form-label"],["nz-input","","formControlName","nomePessoaEmpresa","type","text"],["for","emailprivate",1,"form-label"],["nz-input","","formControlName","emailprivate","type","text"],["for","nomeContato",1,"form-label"],["nz-input","","formControlName","nomeContato","type","text"],["for","telefone",1,"form-label"],["nz-input","","formControlName","telefone","type","text",3,"textMask"],[1,"d-flex","justify-content-end","mt-2","mb-3"],["nz-button","","nzType","default","nzSize","default","type","button",1,"me-2","rounded-pill",3,"click"],["nz-button","","nzType","primary","type","submit","form","formFiltro","nzSize","default",1,"ms-2","rounded-pill"],[1,"col-12"],[1,"my-3"],["id","id-table-sistema",1,"col-md-12"],[1,"padrao",3,"nzData","nzNoResult","nzShowPagination","nzVirtualItemSize","nzVirtualForTrackBy","nzFrontPagination","nzScroll","nzLoading","nzFooter"],["tabela",""],["scope","col"],["scope","col","nzWidth","100px",1,"text-center"],["nz-virtual-scroll",""],["empty",""],["footerTabela",""],[1,"text-center"],["nz-button","","nzType","text","nzDanger","","nz-tooltip","","nzTooltipTitle","Editar",1,"pointer","px-2","fs-6",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nzType","text","nzDanger","","nz-tooltip","","nzTooltipTitle","Excluir",1,"pointer","px-2","fs-6",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],[3,"nzNotFoundContent"],[1,"d-flex","justify-content-end","align-items-center"],["class","me-4",4,"ngIf"],[1,"me-4"],[1,"azul-primario"]],template:function(t,n){if(1&t&&(e.\u0275\u0275template(0,K,1,0,"div",0),e.\u0275\u0275elementStart(1,"div")(2,"div",1)(3,"div",2)(4,"h4",3),e.\u0275\u0275text(5,"Lista de Indica\xe7\xf5es"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275element(7,"span",5),e.\u0275\u0275text(8," Cadastrar "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"form",6),e.\u0275\u0275listener("ngSubmit",function(){return n.search(),n.activeTable=!0}),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8)(12,"label",9),e.\u0275\u0275text(13,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",8)(16,"label",11),e.\u0275\u0275text(17,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"input",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",8)(20,"label",13),e.\u0275\u0275text(21,"Nome do Contato"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"input",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",8)(24,"label",15),e.\u0275\u0275text(25,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",17)(28,"button",18),e.\u0275\u0275listener("click",function(){return n.clear()}),e.\u0275\u0275text(29,"Limpar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"button",19),e.\u0275\u0275text(31,"Pesquisar"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(32,"div",20)(33,"h6",21),e.\u0275\u0275text(34,"Resultado da Consulta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"div",22)(36,"nz-table",23,24)(38,"thead")(39,"tr")(40,"th",25),e.\u0275\u0275text(41,"C\xf3digo"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th",25),e.\u0275\u0275text(43,"Nome"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th",25),e.\u0275\u0275text(45,"E-mail"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",25),e.\u0275\u0275text(47,"Telefone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th",25),e.\u0275\u0275text(49,"Data de Cadastro"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th",26),e.\u0275\u0275text(51,"A\xe7\xf5es"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(52,"tbody"),e.\u0275\u0275template(53,U,16,5,"ng-template",27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(54,J,1,1,"ng-template",null,28,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(56,X,2,1,"ng-template",null,29,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(58,"div"),e.\u0275\u0275element(59,"router-outlet"),e.\u0275\u0275elementEnd()),2&t){const i=e.\u0275\u0275reference(55),r=e.\u0275\u0275reference(57);e.\u0275\u0275property("ngIf",0===n.route.children.length),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("d-none",0!==(null==n.route.children?null:n.route.children.length)),e.\u0275\u0275advance(5),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(16,q)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.formFiltroRecommendation),e.\u0275\u0275advance(17),e.\u0275\u0275property("textMask",n.maskTEL),e.\u0275\u0275advance(10),e.\u0275\u0275property("nzData",n.dataSet)("nzNoResult",i)("nzShowPagination",!1)("nzVirtualItemSize",54)("nzVirtualForTrackBy",n.trackByIndex)("nzFrontPagination",!1)("nzShowPagination",!1)("nzScroll",e.\u0275\u0275pureFunction0(17,ee))("nzLoading",n.loadingTabela)("nzFooter",r)}},directives:[f.O5,S.ix,y.dQ,E.w,c.rH,F.Ls,s.\u0275NgNoValidate,s.NgControlStatusGroup,z.Y,s.FormGroupDirective,C.Zp,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,g.x,b.hd,d.N8,d.Om,d.$Z,d.Uo,d._C,d.p0,d.zu,T.SY,I.p9,c.lC],styles:[""]}),o})(),children:[{path:"insert",component:V,data:{breadcrumb:"Cadastrar",acao:p.c.Insert}},{path:"edit/:param",component:V,data:{breadcrumb:"Editar",acao:p.c.Edit}}]}];let ne=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(te)],c.Bz]}),o})(),oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[w.m,ne]]}),o})()}}]);